<?php
$defaultAccountEmail = $defaultAccountEmail ?? '';
$defaultAccountName = $defaultAccountName ?? '';
$accountEmailValue = htmlspecialchars($defaultAccountEmail, ENT_QUOTES, 'UTF-8');
$accountNameValue = htmlspecialchars($defaultAccountName, ENT_QUOTES, 'UTF-8');
?>
<div class="step-layout" data-step="3">
    <div class="stack-xl">
        <div class="stack-xxxs">
            <h1 class="typography-title-s text-neutral-primary">Create your account</h1>
            <p class="typography-text-m-400 text-neutral-secondary">
                Set up the email and password for your Appwrite account. You can use these
                credentials to sign in later.
            </p>
        </div>

        <div class="stack-l">
            <div class="input-group stack-xs">
                <label for="account-name" class="label-text typography-text-m-500 text-neutral-secondary">Name</label>
                <input
                        type="text"
                        id="account-name"
                        name="accountName"
                        class="input-field typography-text-m-400 text-neutral-primary"
                        placeholder="John Doe"
                        value="<?php echo $accountNameValue; ?>"
                        autocomplete="name"
                >
            </div>
            <div class="input-group stack-xs">
                <label for="account-email" class="label-text typography-text-m-500 text-neutral-secondary">Email</label>
                <input
                        type="email"
                        id="account-email"
                        name="accountEmail"
                        class="input-field typography-text-m-400 text-neutral-primary"
                        placeholder="you@example.com"
                        value="<?php echo $accountEmailValue; ?>"
                        autocomplete="email"
                >
            </div>

            <div class="input-group stack-xs">
                <label for="account-password"
                       class="label-text typography-text-m-500 text-neutral-secondary">Password</label>
                <div class="input-action">
                    <input
                            type="password"
                            id="account-password"
                            name="accountPassword"
                            class="input-action-input typography-text-m-400 text-neutral-primary"
                            placeholder="Enter password"
                            autocomplete="new-password"
                    >
                    <div class="input-action-buttons">
                        <button type="button" class="input-icon-button password-toggle" aria-label="Show password" data-password-toggle="account-password">
                            <span class="password-toggle-icon" data-password-icon="hide">
                                <?php include __DIR__ . '/../../icons/eye-off.svg'; ?>
                            </span>
                            <span class="password-toggle-icon" data-password-icon="show">
                                <?php include __DIR__ . '/../../icons/eye.svg'; ?>
                            </span>
                        </button>
                    </div>
                </div>
                <div class="field-helper typography-caption-400 text-neutral-secondary">
                    <span class="field-helper-icon">
                        <?php include __DIR__ . '/../../icons/info.svg'; ?>
                    </span>
                    <span class="field-helper-text">Password must be at least 8 characters long</span>
                </div>
            </div>
        </div>
    </div>
</div>
